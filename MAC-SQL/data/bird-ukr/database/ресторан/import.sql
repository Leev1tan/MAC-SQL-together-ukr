-- Файл імпорту для бази даних "Ресторан"
-- Призначення: Імпорт схеми бази даних та всіх файлів з даними в правильному порядку
-- Кодування: UTF-8

-- Очищення бази даних перед імпортом (опціонально)
\echo 'Видалення існуючих даних з таблиць...'

-- Імпорт схеми бази даних
\echo 'Імпортування схеми бази даних...'
\i 'schema.sql'

-- Імпорт довідкових даних
\echo 'Імпортування довідкових даних...'
\i 'data_reference.sql'

-- Імпорт даних про категорії страв
\echo 'Імпортування даних про категорії страв...'
\i 'data_categories.sql'

-- Імпорт даних про страви
\echo 'Імпортування даних про страви...'
\i 'data_dishes.sql'

-- Імпорт даних про персонал
\echo 'Імпортування даних про персонал...'
\i 'data_staff.sql'

-- Імпорт даних про клієнтів
\echo 'Імпортування даних про клієнтів...'
\i 'data_customers.sql'

-- Імпорт даних про бронювання столиків
\echo 'Імпортування даних про бронювання столиків...'
\i 'data_tables_reservations.sql'

-- Імпорт даних про замовлення
\echo 'Імпортування даних про замовлення...'
\i 'data_orders.sql'

-- Перевірка коректності імпорту
\echo 'Перевірка коректності імпорту...'

SELECT COUNT(*) AS "Кількість категорій" FROM категорії;
SELECT COUNT(*) AS "Кількість страв" FROM страви;
SELECT COUNT(*) AS "Кількість працівників" FROM працівники;
SELECT COUNT(*) AS "Кількість клієнтів" FROM клієнти;
SELECT COUNT(*) AS "Кількість бронювань" FROM бронювання_столиків;
SELECT COUNT(*) AS "Кількість замовлень" FROM замовлення;
SELECT COUNT(*) AS "Кількість деталей замовлень" FROM деталі_замовлення;

-- Додатково можна імпортувати приклади запитів
-- \i 'queries.sql'

-- Видача інформації про успішний імпорт
\echo 'Імпорт даних бази "Ресторан" успішно завершено!'

-- Примітка: Для імпорту використовуйте команду:
-- psql -U username -d restaurant_db -f import.sql 