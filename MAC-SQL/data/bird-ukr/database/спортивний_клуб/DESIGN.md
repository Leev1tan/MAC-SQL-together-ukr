# Дизайн бази даних "Спортивний клуб"

> **Важливо**: Цей документ описує структуру бази даних "Спортивний клуб" для українського набору даних BIRD Text-to-SQL. Він містить інформацію про таблиці, зв'язки між ними, та обґрунтування дизайну.

## Огляд

База даних "Спортивний клуб" призначена для керування діяльністю спортивного закладу, включаючи:
- Облік членів клубу
- Керування тренерами та їх спеціалізаціями
- Розклад групових та індивідуальних занять
- Облік спортивного обладнання та приміщень
- Керування абонементами та платежами

## Структура бази даних

### Основні сутності

1. **Члени клубу** (члени_клубу) - Люди, які є клієнтами спортивного клубу
2. **Тренери** (тренери) - Персонал, який проводить тренування
3. **Заняття** (заняття) - Типи занять, які пропонує клуб
4. **Розклад** (розклад) - Графік проведення занять
5. **Приміщення** (приміщення) - Зали та інші приміщення клубу
6. **Обладнання** (обладнання) - Спортивний інвентар
7. **Абонементи** (абонементи) - Типи членства в клубі
8. **Членство** (членство) - Зв'язок між членами клубу та абонементами
9. **Платежі** (платежі) - Фінансові операції
10. **Бронювання** (бронювання) - Резервування індивідуальних занять
11. **Відвідування** (відвідування) - Облік відвідування клубу

### Детальна структура таблиць

#### `члени_клубу`
- `id` - Унікальний ідентифікатор
- `прізвище` - Прізвище члена клубу
- `імя` - Ім'я члена клубу
- `по_батькові` - По батькові члена клубу
- `дата_народження` - Дата народження
- `стать` - Стать (Ч/Ж)
- `телефон` - Контактний телефон
- `email` - Електронна пошта
- `адреса` - Фізична адреса
- `дата_реєстрації` - Дата вступу до клубу
- `медичний_дозвіл` - Наявність медичного дозволу (так/ні)
- `медичні_примітки` - Додаткова медична інформація
- `статус` - Активний/Неактивний

#### `тренери`
- `id` - Унікальний ідентифікатор
- `прізвище` - Прізвище тренера
- `імя` - Ім'я тренера
- `по_батькові` - По батькові тренера
- `дата_народження` - Дата народження
- `стать` - Стать (Ч/Ж)
- `телефон` - Контактний телефон
- `email` - Електронна пошта
- `адреса` - Фізична адреса
- `дата_найму` - Дата початку роботи
- `досвід` - Років досвіду
- `освіта` - Освіта та кваліфікація
- `спеціалізація` - Основна спеціалізація
- `статус` - Активний/Звільнений

#### `спеціалізації_тренерів`
- `id` - Унікальний ідентифікатор
- `тренер_id` - Посилання на тренера
- `спеціалізація` - Назва спеціалізації
- `сертифікат` - Номер сертифікату
- `дата_отримання` - Дата отримання сертифікату
- `примітки` - Додаткова інформація

#### `типи_занять`
- `id` - Унікальний ідентифікатор
- `назва` - Назва типу заняття
- `опис` - Детальний опис
- `тривалість` - Стандартна тривалість у хвилинах
- `рівень_складності` - Початковий/Середній/Просунутий
- `максимум_учасників` - Максимальна кількість учасників
- `калорії` - Середня кількість спалених калорій

#### `заняття`
- `id` - Унікальний ідентифікатор
- `назва` - Назва заняття
- `тип_заняття_id` - Посилання на тип заняття
- `опис` - Детальний опис
- `максимум_учасників` - Максимальна кількість учасників
- `рівень_складності` - Початковий/Середній/Просунутий
- `доступне_для_бронювання` - Чи можна заняття бронювати

#### `приміщення`
- `id` - Унікальний ідентифікатор
- `назва` - Назва приміщення
- `тип` - Тип приміщення (зал групових занять, тренажерний зал, басейн, тощо)
- `площа` - Площа в кв. метрах
- `місткість` - Максимальна кількість людей
- `розташування` - Розташування в клубі
- `опис` - Додатковий опис
- `доступність` - Статус доступності

#### `обладнання`
- `id` - Унікальний ідентифікатор
- `назва` - Назва обладнання
- `тип` - Тип обладнання
- `кількість` - Кількість одиниць
- `приміщення_id` - Місце розташування
- `дата_придбання` - Дата придбання
- `стан` - Стан обладнання
- `примітки` - Додаткова інформація

#### `абонементи`
- `id` - Унікальний ідентифікатор
- `назва` - Назва абонементу
- `опис` - Детальний опис
- `тривалість_днів` - Тривалість дії у днях
- `вартість` - Вартість у гривнях
- `кількість_відвідувань` - Кількість включених відвідувань (якщо обмежено)
- `час_відвідування` - Обмеження за часом відвідування
- `включені_послуги` - Опис включених послуг
- `активний` - Чи пропонується зараз абонемент

#### `членство`
- `id` - Унікальний ідентифікатор
- `член_клубу_id` - Посилання на члена клубу
- `абонемент_id` - Посилання на абонемент
- `дата_початку` - Дата початку дії
- `дата_завершення` - Дата завершення дії
- `статус` - Активне/Заморожене/Завершене
- `дата_активації` - Дата активації
- `дата_заморозки` - Дата заморозки (якщо є)
- `причина_заморозки` - Причина заморозки
- `примітки` - Додаткова інформація

#### `платежі`
- `id` - Унікальний ідентифікатор
- `член_клубу_id` - Посилання на члена клубу
- `членство_id` - Посилання на членство (якщо є)
- `сума` - Сума платежу
- `дата` - Дата здійснення
- `тип` - Тип платежу (новий абонемент, продовження, додаткові послуги)
- `спосіб_оплати` - Метод оплати
- `статус` - Статус платежу
- `примітки` - Додаткова інформація

#### `розклад`
- `id` - Унікальний ідентифікатор
- `заняття_id` - Посилання на заняття
- `тренер_id` - Посилання на тренера
- `приміщення_id` - Посилання на приміщення
- `день_тижня` - День тижня
- `час_початку` - Час початку
- `час_завершення` - Час завершення
- `максимум_учасників` - Максимальна кількість учасників
- `регулярність` - Щотижня/Щодня/Конкретна дата
- `активний` - Чи є заняття в активному розкладі

#### `записи_на_заняття`
- `id` - Унікальний ідентифікатор
- `розклад_id` - Посилання на розклад
- `член_клубу_id` - Посилання на члена клубу
- `дата_запису` - Дата здійснення запису
- `статус` - Статус запису (підтверджено/скасовано)
- `примітки` - Додаткова інформація

#### `бронювання`
- `id` - Унікальний ідентифікатор
- `член_клубу_id` - Посилання на члена клубу
- `тренер_id` - Посилання на тренера
- `тип_заняття_id` - Посилання на тип заняття
- `приміщення_id` - Посилання на приміщення
- `дата` - Дата бронювання
- `час_початку` - Час початку
- `час_завершення` - Час завершення
- `статус` - Статус бронювання
- `вартість` - Вартість індивідуального заняття
- `оплачено` - Чи оплачено

#### `відвідування`
- `id` - Унікальний ідентифікатор
- `член_клубу_id` - Посилання на члена клубу
- `дата` - Дата відвідування
- `час_входу` - Час входу до клубу
- `час_виходу` - Час виходу з клубу
- `запис_на_заняття_id` - Посилання на запис (якщо відвідування пов'язане із заняттям)
- `примітки` - Додаткова інформація

## Діаграма зв'язків (ER-діаграма)

```
члени_клубу ──┬── членство ──── абонементи
              ├── платежі
              ├── записи_на_заняття ──┬── розклад ───┬── заняття ──── типи_занять
              │                        │              │
              │                        │              ├── тренери ──── спеціалізації_тренерів
              │                        │              │
              │                        │              └── приміщення ── обладнання
              │                        │
              │                        └── відвідування
              │
              └── бронювання ───┬── тренери
                                ├── типи_занять
                                └── приміщення
```

## Типові запити та сценарії використання

1. Отримання списку всіх активних членів клубу з діючими абонементами
2. Пошук доступних групових занять на певну дату
3. Перегляд розкладу занять конкретного тренера
4. Аналіз відвідуваності за періодами часу
5. Відстеження платежів та доходів клубу
6. Керування завантаженістю приміщень та обладнання
7. Планування розкладу групових та індивідуальних занять
8. Обробка бронювань персональних тренувань

## Додаткові міркування

1. **Історичні дані** - Важливо зберігати історію членства, абонементів та відвідувань
2. **Масштабованість** - Структура повинна дозволяти легко додавати нові типи занять, обладнання та абонементів
3. **Цілісність даних** - Необхідно забезпечити відстеження взаємозв'язків між різними сутностями
4. **Статистика та звітність** - Структура повинна підтримувати створення різноманітних звітів

## План розробки

1. Створення `schema.sql` з визначенням усіх таблиць та зв'язків
2. Підготовка базових довідкових даних (`data_reference.sql`)
3. Генерація даних для учасників клубу, тренерів та занять
4. Створення зразків абонементів, членства та платежів
5. Розробка графіку занять та прикладів відвідування
6. Підготовка прикладів запитів різної складності
7. Фіналізація документації 