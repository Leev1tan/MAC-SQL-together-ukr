# Університетська база даних

## Опис бази даних

База даних "Університет" призначена для управління інформацією про освітній процес у вищому навчальному закладі. Вона містить дані про студентів, викладачів, навчальні програми, курси, розклад занять, оцінювання та інші аспекти роботи університету.

## Структура бази даних

База даних складається з наступних основних компонентів:

### Організаційна структура
- **Факультети** (факультети): Основні організаційні підрозділи університету 
- **Кафедри** (кафедри): Підрозділи факультетів, що відповідають за викладання певних дисциплін

### Персонал
- **Викладачі** (викладачі): Інформація про викладацький склад університету
- **Посади** (посади): Посади працівників університету
- **Академічні ступені** (академічні_ступені): Наукові ступені (бакалавр, магістр, доктор філософії тощо)
- **Наукові звання** (наукові_звання): Наукові звання (доцент, професор тощо)

### Навчальний процес
- **Студенти** (студенти): Інформація про студентів
- **Групи** (групи): Академічні групи студентів
- **Напрями навчання** (напрями): Спеціальності та освітні програми
- **Курси** (курси): Навчальні дисципліни
- **Семестри** (семестри): Періоди навчального року
- **Заняття** (заняття): Проведення занять з певного курсу для конкретної групи
- **Розклад занять** (розклад_занять): Час та місце проведення занять
- **Типи занять** (типи_занять): Типи навчальних занять (лекція, практичне, лабораторна робота тощо)
- **Навчальні матеріали** (навчальні_матеріали): Електронні ресурси для навчання
- **Записи на курси** (записи_на_курси): Запис студентів на певні курси
- **Оцінки** (оцінки): Результати оцінювання студентів

### Інфраструктура
- **Будівлі** (будівлі): Університетські корпуси
- **Аудиторії** (аудиторії): Приміщення для проведення занять

## Схема зв'язків між таблицями

База даних має наступні основні зв'язки:

- Факультети містять кафедри
- Викладачі належать до кафедр
- Факультети очолюються деканами (викладачами)
- Кафедри очолюються завідувачами (викладачами)
- Напрями навчання належать до кафедр
- Групи створюються в межах напрямів навчання
- Студенти входять до груп
- Курси належать до кафедр
- Заняття пов'язують курс, викладача, групу та семестр
- Розклад занять визначає час та місце для заняття
- Записи на курси пов'язують студентів із заняттями
- Оцінки виставляються для записів на курси

## Файли бази даних

База даних складається з наступних SQL-файлів:

### Основні файли
- `schema.sql` - Схема бази даних (структура таблиць, індекси, обмеження, тригери та представлення)
- `data.sql` - Базові довідникові дані (мінімальний набір даних для функціонування бази)
- `sample_queries.sql` - Приклади запитів до бази даних
- `import.sql` - Скрипт для послідовного імпорту всіх SQL-файлів
- `README.md` - Опис та документація бази даних

### Файли з даними
- `data_academic_degrees.sql` - Дані про академічні ступені
- `data_scientific_titles.sql` - Дані про наукові звання
- `data_student_statuses.sql` - Дані про статуси студентів
- `data_class_types.sql` - Дані про типи занять
- `data_semesters.sql` - Дані про семестри
- `data_positions.sql` - Дані про посади
- `data_faculties.sql` - Дані про факультети
- `data_departments.sql` - Дані про кафедри
- `data_teachers.sql` - Дані про викладачів
- `data_managers_update.sql` - Оновлення інформації про керівників (деканів, завідувачів)
- `data_study_programs.sql` - Дані про напрями навчання
- `data_groups.sql` - Дані про групи
- `data_students.sql` - Дані про студентів
- `data_courses.sql` - Дані про курси
- `data_study_materials.sql` - Дані про навчальні матеріали
- `data_buildings.sql` - Дані про будівлі
- `data_classrooms.sql` - Дані про аудиторії
- `data_classes.sql` - Дані про заняття
- `data_schedule.sql` - Дані про розклад занять
- `data_course_registrations.sql` - Дані про записи на курси
- `data_grades.sql` - Дані про оцінки

## Встановлення та використання

### Вимоги
- PostgreSQL 12 або вище
- psql (інструмент командного рядка PostgreSQL)

### Створення бази даних
1. Створіть базу даних:
   ```sql
   CREATE DATABASE університет ENCODING 'UTF8' LC_COLLATE 'uk_UA.UTF-8' LC_CTYPE 'uk_UA.UTF-8';
   ```

2. Виконайте імпорт даних за допомогою скрипта `import.sql`:
   ```bash
   psql -U username -d університет -f import.sql
   ```

### Приклади запитів

База даних містить файл `sample_queries.sql` з прикладами запитів різних типів:

1. **Базові запити вибірки**
   - Список студентів факультету
   - Список викладачів кафедри
   - Курси поточного семестру

2. **Агрегатні функції та групування**
   - Кількість студентів у групах
   - Середній бал за курсами
   - Навантаження викладачів

3. **Складні запити з підзапитами**
   - Студенти з найвищим балом у групах
   - Вільні аудиторії в певний день
   - Викладачі без навантаження

4. **Запити з оновлення даних**
   - Додавання нових студентів
   - Зміна статусу студента
   - Видалення неактивних записів

5. **Аналітичні запити**
   - Аналіз успішності за формами навчання
   - Порівняння навантаження кафедр
   - Статистика використання аудиторій

## Особливості бази даних

1. **Представлення (View)** для спрощеного доступу до даних:
   - `студенти_повна_інформація` - Інформація про студентів із даними групи та напряму
   - `викладачі_повна_інформація` - Інформація про викладачів із даними кафедри
   - `розклад_повна_інформація` - Повний розклад із деталями занять
   - `оцінки_студентів` - Оцінки студентів із деталями курсів та викладачів
   - `середній_бал_семестру` - Середні бали студентів за семестр
   - `навантаження_викладачів` - Аналіз навантаження викладачів

2. **Тригери та функції**:
   - Автоматичне оновлення кількості студентів у групі
   - Перевірка дат та залежностей між даними

3. **Підтримка української мови**:
   - Всі таблиці та поля мають україномовні назви
   - Використовується кодування UTF-8 та українська локаль для правильного сортування

## Примітки щодо використання

1. Перед імпортом даних рекомендується створити базу даних з українською локаллю для правильного відображення та сортування символів:
   ```sql
   CREATE DATABASE університет ENCODING 'UTF8' LC_COLLATE 'uk_UA.UTF-8' LC_CTYPE 'uk_UA.UTF-8';
   ```

2. Для імпорту всіх файлів у правильному порядку використовуйте скрипт `import.sql`, який містить команди для послідовного завантаження схеми та даних з урахуванням залежностей між таблицями.

3. База даних розроблена з використанням синтаксису PostgreSQL та може містити функції, які не підтримуються в інших СУБД. При використанні з іншими СУБД може знадобитися адаптація коду.

## Ліцензія та використання

Дана база даних створена для освітніх цілей та може вільно використовуватись для навчання, досліджень та некомерційних проектів. При використанні в комерційних проектах рекомендується зазначати джерело походження бази даних. 