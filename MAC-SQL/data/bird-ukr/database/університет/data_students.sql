-- Дані про студентів для бази даних "Університет"
-- Encoding: UTF-8

-- =============================================
-- Напрями навчання (спеціальності)
-- =============================================
INSERT INTO напрями (назва, код, рівень, опис, кафедра_ід, кількість_кредитів, тривалість_навчання_роки, активний) VALUES
-- Напрями кафедри програмної інженерії
('Інженерія програмного забезпечення', '121', 'Бакалавр', 
 'Підготовка фахівців з розробки, тестування та супроводу програмного забезпечення',
 (SELECT ід FROM кафедри WHERE скорочення = 'КПІ'), 240, 4.0, TRUE),
 
('Інженерія програмного забезпечення', '121', 'Магістр', 
 'Підготовка фахівців вищої кваліфікації з розробки та супроводу програмного забезпечення',
 (SELECT ід FROM кафедри WHERE скорочення = 'КПІ'), 120, 2.0, TRUE),
 
-- Напрями кафедри комп'ютерних наук
('Комп''ютерні науки', '122', 'Бакалавр', 
 'Підготовка фахівців зі створення та використання алгоритмів обробки даних',
 (SELECT ід FROM кафедри WHERE скорочення = 'ККН'), 240, 4.0, TRUE),
 
('Комп''ютерні науки', '122', 'Магістр', 
 'Підготовка фахівців вищої кваліфікації з області комп''ютерних наук',
 (SELECT ід FROM кафедри WHERE скорочення = 'ККН'), 120, 2.0, TRUE),
 
-- Напрями кафедри інформаційних систем
('Інформаційні системи та технології', '126', 'Бакалавр', 
 'Підготовка фахівців з проектування та розробки інформаційних систем',
 (SELECT ід FROM кафедри WHERE скорочення = 'КІС'), 240, 4.0, TRUE),
 
-- Напрями кафедри кібербезпеки
('Кібербезпека', '125', 'Бакалавр', 
 'Підготовка фахівців із захисту інформації та кібербезпеки',
 (SELECT ід FROM кафедри WHERE скорочення = 'КБ' AND факультет_ід = (SELECT ід FROM факультети WHERE скорочення = 'ФІТ')), 240, 4.0, TRUE),
 
-- Напрями кафедри економіки
('Економіка', '051', 'Бакалавр', 
 'Підготовка фахівців з економіки',
 (SELECT ід FROM кафедри WHERE скорочення = 'КЕ'), 240, 4.0, TRUE),
 
-- Напрями кафедри менеджменту
('Менеджмент', '073', 'Бакалавр', 
 'Підготовка фахівців з управління організаціями',
 (SELECT ід FROM кафедри WHERE скорочення = 'КМ'), 240, 4.0, TRUE);

-- =============================================
-- Академічні групи
-- =============================================
INSERT INTO групи (назва, рік_вступу, напрям_ід, куратор_ід, активна) VALUES
-- Групи кафедри програмної інженерії
('ІПЗ-21', 2021, 
 (SELECT ід FROM напрями WHERE код = '121' AND рівень = 'Бакалавр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Сидоренко' AND імя = 'Анна'), TRUE),
 
('ІПЗ-22', 2022, 
 (SELECT ід FROM напрями WHERE код = '121' AND рівень = 'Бакалавр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Коваленко' AND імя = 'Ігор'), TRUE),
 
('ІПЗ-23', 2023, 
 (SELECT ід FROM напрями WHERE код = '121' AND рівень = 'Бакалавр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Мельник' AND імя = 'Ольга'), TRUE),
 
('ІПЗм-23', 2023, 
 (SELECT ід FROM напрями WHERE код = '121' AND рівень = 'Магістр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Петренко' AND імя = 'Олександр'), TRUE),
 
-- Групи кафедри комп'ютерних наук
('КН-21', 2021, 
 (SELECT ід FROM напрями WHERE код = '122' AND рівень = 'Бакалавр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Іваненко' AND імя = 'Марія'), TRUE),
 
('КН-22', 2022, 
 (SELECT ід FROM напрями WHERE код = '122' AND рівень = 'Бакалавр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Григоренко' AND імя = 'Андрій'), TRUE),
 
('КН-23', 2023, 
 (SELECT ід FROM напрями WHERE код = '122' AND рівень = 'Бакалавр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Іваненко' AND імя = 'Марія'), TRUE),
 
('КНм-23', 2023, 
 (SELECT ід FROM напрями WHERE код = '122' AND рівень = 'Магістр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Григоренко' AND імя = 'Андрій'), TRUE),
 
-- Групи кафедри інформаційних систем
('ІСТ-21', 2021, 
 (SELECT ід FROM напрями WHERE код = '126' AND рівень = 'Бакалавр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Ткаченко' AND імя = 'Ірина'), TRUE),
 
('ІСТ-22', 2022, 
 (SELECT ід FROM напрями WHERE код = '126' AND рівень = 'Бакалавр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Савченко' AND імя = 'Олег'), TRUE),
 
-- Групи кафедри кібербезпеки
('КБ-21', 2021, 
 (SELECT ід FROM напрями WHERE код = '125' AND рівень = 'Бакалавр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Захарченко' AND імя = 'Дмитро'), TRUE),
 
('КБ-22', 2022, 
 (SELECT ід FROM напрями WHERE код = '125' AND рівень = 'Бакалавр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Романенко' AND імя = 'Катерина'), TRUE),
 
-- Групи кафедри економіки
('ЕК-21', 2021, 
 (SELECT ід FROM напрями WHERE код = '051' AND рівень = 'Бакалавр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Мороз' AND імя = 'Валентина'), TRUE),
 
-- Групи кафедри менеджменту
('МН-21', 2021, 
 (SELECT ід FROM напрями WHERE код = '073' AND рівень = 'Бакалавр'), 
 (SELECT ід FROM викладачі WHERE прізвище = 'Сергієнко' AND імя = 'Людмила'), TRUE);

-- =============================================
-- Студенти
-- =============================================
INSERT INTO студенти (студентський_квиток, прізвище, імя, по_батькові, стать, дата_народження, 
                     група_ід, дата_вступу, форма_навчання, фінансування, статус_ід, 
                     контактний_телефон, електронна_пошта, адреса, середній_бал) VALUES
-- Студенти групи ІПЗ-21
('СК2021001', 'Іванов', 'Денис', 'Олександрович', 'Ч', '2003-05-15', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗ-21' AND рік_вступу = 2021), 
 '2021-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111001', 'ivanov.d@university.edu', 'м. Київ, вул. Студентська, 5, кім. 301', 89.5),
 
('СК2021002', 'Петрова', 'Анна', 'Ігорівна', 'Ж', '2003-08-23', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗ-21' AND рік_вступу = 2021), 
 '2021-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111002', 'petrova.a@university.edu', 'м. Київ, вул. Студентська, 5, кім. 305', 92.3),
 
('СК2021003', 'Сидоров', 'Максим', 'Петрович', 'Ч', '2003-02-10', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗ-21' AND рік_вступу = 2021), 
 '2021-09-01', 'денна', 'контракт', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111003', 'sydorov.m@university.edu', 'м. Київ, вул. Політехнічна, 20, кв. 8', 81.7),
 
('СК2021004', 'Коваль', 'Олена', 'Вікторівна', 'Ж', '2003-04-17', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗ-21' AND рік_вступу = 2021), 
 '2021-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111004', 'koval.o@university.edu', 'м. Київ, вул. Студентська, 5, кім. 310', 85.9),
 
('СК2021005', 'Мельников', 'Ігор', 'Андрійович', 'Ч', '2003-11-05', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗ-21' AND рік_вступу = 2021), 
 '2021-09-01', 'денна', 'контракт', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111005', 'melnykov.i@university.edu', 'м. Київ, вул. Солом'янська, 10, кв. 25', 78.4),
 
-- Студенти групи ІПЗ-22
('СК2022001', 'Бондаренко', 'Дмитро', 'Сергійович', 'Ч', '2004-03-20', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗ-22' AND рік_вступу = 2022), 
 '2022-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111006', 'bondarenko.d@university.edu', 'м. Київ, вул. Студентська, 5, кім. 401', 90.1),
 
('СК2022002', 'Мазур', 'Софія', 'Олексіївна', 'Ж', '2004-06-10', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗ-22' AND рік_вступу = 2022), 
 '2022-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111007', 'mazur.s@university.edu', 'м. Київ, вул. Студентська, 5, кім. 405', 87.8),
 
('СК2022003', 'Федоров', 'Артем', 'Ігорович', 'Ч', '2004-09-15', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗ-22' AND рік_вступу = 2022), 
 '2022-09-01', 'денна', 'контракт', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111008', 'fedorov.a@university.edu', 'м. Київ, вул. Жилянська, 7, кв. 13', 83.2),
 
('СК2022004', 'Лисенко', 'Марина', 'Володимирівна', 'Ж', '2004-12-02', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗ-22' AND рік_вступу = 2022), 
 '2022-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111009', 'lysenko.m@university.edu', 'м. Київ, вул. Студентська, 5, кім. 410', 91.7),
 
-- Студенти групи ІПЗ-23
('СК2023001', 'Пономаренко', 'Віталій', 'Федорович', 'Ч', '2005-01-25', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗ-23' AND рік_вступу = 2023), 
 '2023-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111010', 'ponomarenko.v@university.edu', 'м. Київ, вул. Студентська, 5, кім. 501', 88.9),
 
('СК2023002', 'Ткаченко', 'Вікторія', 'Андріївна', 'Ж', '2005-04-12', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗ-23' AND рік_вступу = 2023), 
 '2023-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111011', 'tkachenko.v@university.edu', 'м. Київ, вул. Студентська, 5, кім. 505', 93.5),
 
('СК2023003', 'Романенко', 'Олексій', 'Михайлович', 'Ч', '2005-07-30', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗ-23' AND рік_вступу = 2023), 
 '2023-09-01', 'денна', 'контракт', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111012', 'romanenko.o@university.edu', 'м. Київ, вул. Вишгородська, 35, кв. 17', 82.1),
 
-- Студенти групи ІПЗм-23 (магістри)
('СК2023004', 'Гончаренко', 'Артур', 'Валентинович', 'Ч', '2001-03-18', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗм-23' AND рік_вступу = 2023), 
 '2023-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111013', 'goncharenko.a@university.edu', 'м. Київ, вул. Гоголівська, 8, кв. 21', 90.3),
 
('СК2023005', 'Литвин', 'Дарія', 'Олегівна', 'Ж', '2001-09-05', 
 (SELECT ід FROM групи WHERE назва = 'ІПЗм-23' AND рік_вступу = 2023), 
 '2023-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111014', 'lytvyn.d@university.edu', 'м. Київ, вул. Саксаганського, 15, кв. 32', 91.8),
 
-- Студенти групи КН-21
('СК2021006', 'Василенко', 'Роман', 'Антонович', 'Ч', '2003-06-28', 
 (SELECT ід FROM групи WHERE назва = 'КН-21' AND рік_вступу = 2021), 
 '2021-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111015', 'vasylenko.r@university.edu', 'м. Київ, вул. Студентська, 5, кім. 320', 86.5),
 
('СК2021007', 'Кравець', 'Юлія', 'Денисівна', 'Ж', '2003-10-14', 
 (SELECT ід FROM групи WHERE назва = 'КН-21' AND рік_вступу = 2021), 
 '2021-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111016', 'kravets.y@university.edu', 'м. Київ, вул. Студентська, 5, кім. 325', 89.2),
 
-- Студенти групи КН-22
('СК2022005', 'Павленко', 'Микола', 'Юрійович', 'Ч', '2004-02-15', 
 (SELECT ід FROM групи WHERE назва = 'КН-22' AND рік_вступу = 2022), 
 '2022-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111017', 'pavlenko.m@university.edu', 'м. Київ, вул. Студентська, 5, кім. 420', 85.3),
 
('СК2022006', 'Савчук', 'Олександра', 'Віталіївна', 'Ж', '2004-05-08', 
 (SELECT ід FROM групи WHERE назва = 'КН-22' AND рік_вступу = 2022), 
 '2022-09-01', 'денна', 'контракт', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111018', 'savchuk.o@university.edu', 'м. Київ, вул. Богданівська, 12, кв. 45', 80.9),
 
-- Студенти групи КБ-21
('СК2021008', 'Захаров', 'Сергій', 'Олексійович', 'Ч', '2003-07-19', 
 (SELECT ід FROM групи WHERE назва = 'КБ-21' AND рік_вступу = 2021), 
 '2021-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111019', 'zakharov.s@university.edu', 'м. Київ, вул. Студентська, 5, кім. 330', 84.7),
 
('СК2021009', 'Шевчук', 'Ірина', 'Андріївна', 'Ж', '2003-09-22', 
 (SELECT ід FROM групи WHERE назва = 'КБ-21' AND рік_вступу = 2021), 
 '2021-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111020', 'shevchuk.i@university.edu', 'м. Київ, вул. Студентська, 5, кім. 335', 87.1),
 
-- Студенти інших груп
('СК2021010', 'Андрієнко', 'Олександр', 'Максимович', 'Ч', '2003-01-15', 
 (SELECT ід FROM групи WHERE назва = 'ЕК-21' AND рік_вступу = 2021), 
 '2021-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111021', 'andrienko.o@university.edu', 'м. Київ, вул. Студентська, 5, кім. 340', 83.5),
 
('СК2021011', 'Ковальчук', 'Марія', 'Володимирівна', 'Ж', '2003-04-30', 
 (SELECT ід FROM групи WHERE назва = 'МН-21' AND рік_вступу = 2021), 
 '2021-09-01', 'денна', 'контракт', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Активний'), 
 '+380991111022', 'kovalchuk.m@university.edu', 'м. Київ, вул. Інститутська, 22, кв. 78', 79.8),
 
-- Студенти з особливими статусами
('СК2021012', 'Григоренко', 'Валентин', 'Степанович', 'Ч', '2003-12-10', 
 (SELECT ід FROM групи WHERE назва = 'ІСТ-21' AND рік_вступу = 2021), 
 '2021-09-01', 'денна', 'бюджет', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Академічна відпустка'), 
 '+380991111023', 'hryhorenko.v@university.edu', 'м. Київ, вул. Повітрофлотська, 18, кв. 5', 81.2),
 
('СК2021013', 'Дмитренко', 'Наталія', 'Ігорівна', 'Ж', '2003-03-18', 
 (SELECT ід FROM групи WHERE назва = 'ІСТ-21' AND рік_вступу = 2021), 
 '2021-09-01', 'денна', 'контракт', 
 (SELECT ід FROM статуси_студентів WHERE назва = 'Відрахований'), 
 '+380991111024', 'dmytrenko.n@university.edu', 'м. Київ, вул. Дорогожицька, 9, кв. 27', 65.3);

-- Оновлюємо кількість студентів в групах (після тригеру, це має бути автоматично)
UPDATE групи SET кількість_студентів = (
    SELECT COUNT(*) FROM студенти 
    WHERE група_ід = групи.ід AND статус_ід = (SELECT ід FROM статуси_студентів WHERE назва = 'Активний')
); 