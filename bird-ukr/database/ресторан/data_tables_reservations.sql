-- Дані про столики та резервації для бази даних "Ресторан"
-- Кодування: UTF-8

-- =============================================
-- Вставка даних про столики
-- =============================================

-- Очищення даних з таблиць
DELETE FROM резервації;
DELETE FROM столики;

-- Столики
INSERT INTO столики (номер, опис, кількість_місць, розташування, для_курців, активний, примітки) VALUES
('1', 'Біля вікна', 2, 'основний зал', FALSE, TRUE, NULL),
('2', 'Біля вікна', 2, 'основний зал', FALSE, TRUE, NULL), -- Assuming default active=TRUE even if data implied 'зайнятий'
('3', 'В центрі залу', 4, 'основний зал', FALSE, TRUE, NULL),
('4', 'В центрі залу', 4, 'основний зал', FALSE, TRUE, NULL), -- Assuming default active=TRUE even if data implied 'зарезервовано'
('5', 'Біля стіни', 6, 'основний зал', FALSE, TRUE, NULL),
('6', 'Біля стіни', 6, 'основний зал', FALSE, TRUE, NULL), -- Assuming default active=TRUE even if data implied 'зайнятий'
('7', 'З видом на сад', 2, 'тераса', FALSE, TRUE, NULL),
('8', 'З видом на сад', 2, 'тераса', FALSE, TRUE, NULL), -- Assuming default active=TRUE even if data implied 'зайнятий'
('9', 'З видом на сад', 4, 'тераса', FALSE, TRUE, NULL),
('10', 'З видом на сад', 4, 'тераса', FALSE, TRUE, NULL), -- Assuming default active=TRUE even if data implied 'зарезервовано'
('11', 'Окрема кімната', 4, 'VIP зал', FALSE, TRUE, NULL),
('12', 'Окрема кімната', 6, 'VIP зал', FALSE, TRUE, NULL),
('13', 'Велика окрема кімната', 8, 'VIP зал', FALSE, TRUE, NULL), -- Assuming default active=TRUE even if data implied 'зарезервовано'
('14', 'Біля барної стійки', 2, 'бар', FALSE, TRUE, NULL), -- Assuming default active=TRUE even if data implied 'зайнятий'
('15', 'Біля барної стійки', 2, 'бар', FALSE, TRUE, NULL);

-- =============================================
-- Вставка даних про резервації
-- =============================================

-- Use subqueries for стіл_ід and look up статус_ід from статуси_резервацій
-- Original data had datetime and duration, schema has date, start_time, end_time. Need to calculate/adjust.
-- Original data had клієнт_ім_я, schema has прізвище_клієнта, імя_клієнта. Need to split.
-- Need to add резервацію_прийняв_ід and відмітка_про_відвідування

-- NOTE: Conversion from original data (datetime, duration) to schema (date, start_time, end_time) is approximate.
-- NOTE: Splitting клієнт_ім_я is approximate (assumes first word is first name, rest is last name).
-- NOTE: Assigning default/NULL to резервацію_прийняв_ід and відмітка_про_відвідування.

INSERT INTO резервації (столик_ід, статус_ід, дата, час_початку, час_кінця, прізвище_клієнта, імя_клієнта, телефон_клієнта, кількість_гостей, особливі_побажання, резервацію_прийняв_ід, відмітка_про_відвідування, примітки) VALUES
((SELECT ід FROM столики WHERE номер = '4'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Підтверджено'), '2024-05-03', '19:00:00', '21:00:00', 'Петренко', 'Олена', '+380501234567', 4, NULL, NULL, NULL, 'День народження'),
((SELECT ід FROM столики WHERE номер = '10'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Підтверджено'), '2024-05-03', '20:00:00', '22:00:00', 'Ковальчук', 'Максим', '+380672345678', 4, NULL, NULL, NULL, NULL),
((SELECT ід FROM столики WHERE номер = '13'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Підтверджено'), '2024-05-03', '19:30:00', '22:30:00', 'Шевченко', 'Ірина', '+380633456789', 8, NULL, NULL, NULL, 'Корпоративна вечеря'),
((SELECT ід FROM столики WHERE номер = '5'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Підтверджено'), '2024-05-04', '13:00:00', '15:00:00', 'Іваненко', 'Андрій', '+380994567890', 5, NULL, NULL, NULL, NULL),
((SELECT ід FROM столики WHERE номер = '12'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Підтверджено'), '2024-05-04', '19:00:00', '21:30:00', 'Савченко', 'Марія', '+380505678901', 6, NULL, NULL, NULL, 'Ювілей'),
((SELECT ід FROM столики WHERE номер = '9'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Підтверджено'), '2024-05-04', '20:30:00', '22:30:00', 'Мельник', 'Олег', '+380676789012', 4, NULL, NULL, NULL, NULL),
((SELECT ід FROM столики WHERE номер = '2'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Підтверджено'), '2024-05-05', '18:30:00', '20:30:00', 'Бондаренко', 'Наталія', '+380637890123', 2, NULL, NULL, NULL, 'Романтична вечеря'),
((SELECT ід FROM столики WHERE номер = '11'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Підтверджено'), '2024-05-05', '19:00:00', '21:30:00', 'Ткаченко', 'Василь', '+380998901234', 4, NULL, NULL, NULL, NULL),
((SELECT ід FROM столики WHERE номер = '3'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Запит'), '2024-05-05', '20:00:00', '22:00:00', 'Кравченко', 'Юлія', '+380509012345', 3, NULL, NULL, NULL, NULL),
((SELECT ід FROM столики WHERE номер = '7'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Запит'), '2024-05-06', '19:30:00', '21:30:00', 'Пономаренко', 'Сергій', '+380670123456', 2, 'Просять тихий столик', NULL, NULL, NULL);

-- Історія резервацій (завершені)
INSERT INTO резервації (столик_ід, статус_ід, дата, час_початку, час_кінця, прізвище_клієнта, імя_клієнта, телефон_клієнта, кількість_гостей, особливі_побажання, резервацію_прийняв_ід, відмітка_про_відвідування, примітки) VALUES
((SELECT ід FROM столики WHERE номер = '3'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Відвідано'), '2024-05-01', '18:00:00', '20:00:00', 'Лисенко', 'Олександр', '+380631234567', 4, NULL, NULL, TRUE, NULL),
((SELECT ід FROM столики WHERE номер = '6'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Відвідано'), '2024-05-01', '19:00:00', '21:30:00', 'Мороз', 'Катерина', '+380992345678', 6, NULL, NULL, TRUE, 'Святкування випускного'),
((SELECT ід FROM столики WHERE номер = '13'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Відвідано'), '2024-05-01', '20:00:00', '23:00:00', 'Павленко', 'Дмитро', '+380503456789', 8, NULL, NULL, TRUE, 'Ділова зустріч'),
((SELECT ід FROM столики WHERE номер = '10'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Відвідано'), '2024-05-02', '18:30:00', '20:30:00', 'Романенко', 'Вікторія', '+380674567890', 4, NULL, NULL, TRUE, NULL),
((SELECT ід FROM столики WHERE номер = '12'), (SELECT ід FROM статуси_резервацій WHERE назва = 'Відвідано'), '2024-05-02', '19:30:00', '22:30:00', 'Соколов', 'Микола', '+380635678901', 6, NULL, NULL, TRUE, 'Сімейне святкування'); 