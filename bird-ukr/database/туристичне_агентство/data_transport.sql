-- Дані про транспорт для бази даних "Туристичне агентство"

-- Налаштування кодування
SET client_encoding = 'UTF8';

-- Очищення таблиці перед додаванням даних
TRUNCATE TABLE транспорт CASCADE;

-- Додавання транспорту
-- Використовуємо підзапити для отримання правильних тип_id
INSERT INTO транспорт (тип_id, компанія, номер_рейсу, місто_відправлення_id, місто_прибуття_id, дата_відправлення, дата_прибуття, ціна, кількість_місць, примітки) VALUES
-- Приклади Авіарейсів
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Міжнародні Авіалінії України', 'PS101', 1, 2, '2024-10-01 10:00:00', '2024-10-01 11:15:00', 1500.00, 180, NULL),
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Міжнародні Авіалінії України', 'PS102', 2, 1, '2024-10-01 14:00:00', '2024-10-01 15:15:00', 1550.00, 180, NULL),
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Wizz Air', 'W6 1234', 1, 4, '2024-10-05 06:30:00', '2024-10-05 07:50:00', 1800.00, 200, NULL), -- Kyiv -> Warsaw
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Wizz Air', 'W6 1235', 4, 1, '2024-10-12 08:30:00', '2024-10-12 09:50:00', 1750.00, 200, NULL), -- Warsaw -> Kyiv
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Wizz Air', 'W6 5678', 2, 10, '2024-11-01 12:00:00', '2024-11-01 13:30:00', 2200.00, 190, NULL), -- Lviv -> Berlin
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Ryanair', 'FR2020', 1, 10, '2024-10-08 09:00:00', '2024-10-08 10:45:00', 1600.00, 189, NULL), -- Kyiv -> Berlin
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Ryanair', 'FR2021', 10, 1, '2024-10-15 11:30:00', '2024-10-15 13:15:00', 1650.00, 189, NULL), -- Berlin -> Kyiv
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Ryanair', 'FR3030', 2, 5, '2024-10-20 15:00:00', '2024-10-20 17:20:00', 2800.00, 189, NULL), -- Lviv -> Rome
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Lufthansa', 'LH1493', 1, 11, '2024-10-03 13:50:00', '2024-10-03 15:30:00', 5500.00, 160, NULL), -- Kyiv -> Frankfurt (Assume Frankfurt=11)
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Lufthansa', 'LH1492', 11, 1, '2024-10-10 09:30:00', '2024-10-10 11:10:00', 5400.00, 160, NULL), -- Frankfurt -> Kyiv
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Turkish Airlines', 'TK456', 1, 49, '2024-10-10 14:00:00', '2024-10-10 16:10:00', 4500.00, 150, NULL), -- Kyiv -> Istanbul
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Turkish Airlines', 'TK457', 49, 1, '2024-10-17 10:00:00', '2024-10-17 12:10:00', 4600.00, 150, NULL), -- Istanbul -> Kyiv
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Turkish Airlines', 'TK1860', 1, 50, '2024-11-05 02:30:00', '2024-11-05 05:00:00', 4800.00, 170, 'Чартер до Анталії'), -- Kyiv -> Antalya
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'Emirates', 'EK150', 1, 79, '2024-10-22 16:15:00', '2024-10-22 22:45:00', 12000.00, 350, NULL), -- Kyiv -> Dubai
((SELECT id FROM типи_транспорту WHERE назва = 'Літак'), 'EgyptAir', 'MS734', 1, 62, '2024-11-10 04:00:00', '2024-11-10 07:30:00', 6500.00, 140, 'Чартер до Шарм-ель-Шейху'), -- Kyiv -> Sharm

-- Приклади Залізничних поїздок
((SELECT id FROM типи_транспорту WHERE назва = 'Потяг'), 'Укрзалізниця', '749К', 1, 2, '2024-10-02 06:50:00', '2024-10-02 12:05:00', 850.00, 60, 'Інтерсіті+'),
((SELECT id FROM типи_транспорту WHERE назва = 'Потяг'), 'Укрзалізниця', '750Л', 2, 1, '2024-10-02 18:00:00', '2024-10-02 23:15:00', 860.00, 60, 'Інтерсіті+'),
((SELECT id FROM типи_транспорту WHERE назва = 'Потяг'), 'Укрзалізниця', '001Д', 1, 3, '2024-10-04 21:30:00', '2024-10-05 08:45:00', 1100.00, 40, 'Нічний експрес до Одеси'),
((SELECT id FROM типи_транспорту WHERE назва = 'Потяг'), 'Укрзалізниця', '002Ш', 3, 1, '2024-10-11 22:05:00', '2024-10-12 09:20:00', 1150.00, 40, 'Нічний експрес до Києва'),
((SELECT id FROM типи_транспорту WHERE назва = 'Потяг'), 'Deutsche Bahn', 'ICE 505', 10, 6, '2024-11-15 08:00:00', '2024-11-15 11:30:00', 3000.00, 300, NULL), -- Berlin -> Paris
((SELECT id FROM типи_транспорту WHERE назва = 'Потяг'), 'Deutsche Bahn', 'ICE 504', 6, 10, '2024-11-22 14:00:00', '2024-11-22 17:30:00', 3100.00, 300, NULL), -- Paris -> Berlin
((SELECT id FROM типи_транспорту WHERE назва = 'Потяг'), 'PKP Intercity', 'EIC 41', 4, 10, '2024-10-25 10:00:00', '2024-10-25 15:40:00', 1500.00, 250, NULL), -- Warsaw -> Berlin

-- Приклади Круїзів
((SELECT id FROM типи_транспорту WHERE назва = 'Круїзний лайнер'), 'MSC Cruises', 'MSC001', 5, 67, '2025-03-10 18:00:00', '2025-03-17 09:00:00', 25000.00, 2000, 'Середземноморський круїз'), -- Rome -> Athens
((SELECT id FROM типи_транспорту WHERE назва = 'Круїзний лайнер'), 'MSC Cruises', 'MSC005', 67, 5, '2025-03-20 17:00:00', '2025-03-27 08:00:00', 24500.00, 2000, 'Зворотній середземноморський круїз'), -- Athens -> Rome
((SELECT id FROM типи_транспорту WHERE назва = 'Круїзний лайнер'), 'Royal Caribbean', 'RC002', 3, 79, '2025-04-01 16:00:00', '2025-04-15 10:00:00', 45000.00, 4000, 'Великий круїз: Чорне море - Дубай'), -- Odesa -> Dubai
((SELECT id FROM типи_транспорту WHERE назва = 'Круїзний лайнер'), 'Costa Cruises', 'COS777', 5, 68, '2025-05-05 19:00:00', '2025-05-12 09:00:00', 28000.00, 2500, 'Круїз грецькими островами'), -- Rome -> Santorini

-- Приклади Автобусних рейсів
((SELECT id FROM типи_транспорту WHERE назва = 'Автобус'), 'FlixBus', 'FB900', 1, 4, '2024-09-25 22:00:00', '2024-09-26 18:00:00', 1200.00, 50, NULL), -- Kyiv -> Warsaw
((SELECT id FROM типи_транспорту WHERE назва = 'Автобус'), 'FlixBus', 'FB901', 4, 1, '2024-09-27 21:00:00', '2024-09-28 17:00:00', 1250.00, 50, NULL), -- Warsaw -> Kyiv
((SELECT id FROM типи_транспорту WHERE назва = 'Автобус'), 'FlixBus', 'FB120', 2, 10, '2024-10-18 08:00:00', '2024-10-19 06:00:00', 1400.00, 48, NULL), -- Lviv -> Berlin
((SELECT id FROM типи_транспорту WHERE назва = 'Автобус'), 'Автолюкс', 'ALX100', 2, 1, '2024-09-28 08:00:00', '2024-09-28 15:00:00', 500.00, 45, NULL),
((SELECT id FROM типи_транспорту WHERE назва = 'Автобус'), 'Автолюкс', 'ALX101', 1, 2, '2024-09-29 09:00:00', '2024-09-29 16:00:00', 520.00, 45, NULL),
((SELECT id FROM типи_транспорту WHERE назва = 'Автобус'), 'Гюнсел', 'GUN205', 1, 3, '2024-10-14 10:00:00', '2024-10-14 16:30:00', 450.00, 55, NULL), -- Kyiv -> Odesa

-- Приклади Оренди авто
((SELECT id FROM типи_транспорту WHERE назва = 'Оренда авто'), 'Avis', 'AV001', 1, 1, '2024-10-01 09:00:00', '2024-10-07 18:00:00', 7000.00, 10, 'Оренда авто класу Стандарт в Києві'),
((SELECT id FROM типи_транспорту WHERE назва = 'Оренда авто'), 'Avis', 'AV002', 2, 2, '2024-10-10 10:00:00', '2024-10-15 18:00:00', 6500.00, 8, 'Оренда авто класу Стандарт у Львові'),
((SELECT id FROM типи_транспорту WHERE назва = 'Оренда авто'), 'Hertz', 'HZ111', 1, 1, '2024-11-01 12:00:00', '2024-11-10 12:00:00', 9000.00, 15, 'Оренда SUV в Києві'),
((SELECT id FROM типи_транспорту WHERE назва = 'Оренда авто'), 'Sixt', 'SX002', 2, 2, '2024-11-01 10:00:00', '2024-11-05 10:00:00', 5500.00, 5, 'Оренда авто класу Бізнес у Львові'),
((SELECT id FROM типи_транспорту WHERE назва = 'Оренда авто'), 'Sixt', 'SX005', 3, 3, '2024-10-20 09:00:00', '2024-10-27 09:00:00', 6800.00, 7, 'Оренда кабріолету в Одесі'),
((SELECT id FROM типи_транспорту WHERE назва = 'Оренда авто'), 'BLS Car Rental', 'BLS50', 1, 1, '2024-10-05 14:00:00', '2024-10-08 14:00:00', 3500.00, 20, 'Оренда авто класу Економ в Києві');

-- Оновлення послідовності ID
-- Переконуємось, що наступний ID буде більшим за максимальний вставлений ID.
-- Якщо ви додаєте більше записів вручну, змініть це значення.
SELECT setval('транспорт_id_seq', COALESCE((SELECT MAX(id) FROM транспорт), 1), false);

-- Інформаційне повідомлення про успішне завершення імпорту
DO $$
BEGIN
    RAISE NOTICE 'Приклади даних про транспорт успішно імпортовано. Загальна кількість записів: %', (SELECT COUNT(*) FROM транспорт);
END $$; 