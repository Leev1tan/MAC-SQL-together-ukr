# База даних "Інтернет-магазин"

База даних для управління інформацією про інтернет-магазин. Включає зберігання та управління даними про товари, категорії, клієнтів, замовлення, платежі та відгуки.

## Опис таблиць

### Довідникові таблиці
- **статуси_замовлень** - статуси для замовлень (в обробці, підтверджено, відправлено і т.д.)
- **методи_оплати** - доступні методи оплати (платіжна картка, готівка при отриманні і т.д.)
- **методи_доставки** - доступні методи доставки (Нова Пошта, Укрпошта і т.д.)

### Основні таблиці
- **категорії** - категорії товарів з можливістю ієрархічного структурування
- **товари** - інформація про товари, що продаються в магазині
- **клієнти** - дані зареєстрованих клієнтів
- **адреси** - адреси клієнтів для доставки
- **кошики** - тимчасові кошики клієнтів
- **кошики_товари** - товари, додані в кошики
- **знижки** - доступні промокоди та знижки
- **замовлення** - оформлені замовлення
- **позиції_замовлення** - товари, включені в замовлення
- **платежі** - інформація про платежі за замовлення
- **доставки** - інформація про доставки замовлень
- **відгуки** - відгуки клієнтів про товари

## Структура та зв'язки

База даних "Інтернет-магазин" має наступну структуру:

1. **Товари та категорії**: 
   - Товари згруповані за категоріями
   - Категорії можуть мати ієрархічну структуру (категорії та підкатегорії)

2. **Клієнти та замовлення**:
   - Клієнти можуть мати кілька адрес
   - Клієнти створюють кошики, які трансформуються в замовлення
   - Замовлення містять позиції (товари)
   - До замовлень прив'язані платежі та доставки

3. **Відгуки**:
   - Клієнти можуть залишати відгуки на товари
   - Відгуки впливають на рейтинг товарів

## Особливості реалізації

1. **Тригери та функції**:
   - Автоматичне оновлення рейтингу товарів на основі відгуків
   - Оновлення дати модифікації для основних сутностей

2. **Індекси**:
   - Оптимізовані індекси для швидкого пошуку та фільтрації товарів
   - Індекси для ефективного пошуку замовлень

3. **Обмеження цілісності**:
   - Перевірка коректності цін, кількості та рейтингів
   - Унікальні ключі для запобігання дублювання даних

## Використання бази даних

Ця база даних призначена для:
- Зберігання каталогу товарів
- Управління клієнтськими даними та замовленнями
- Обробки платежів та відстеження доставок
- Аналізу продажів та ефективності магазину

## Імпорт даних

Для імпорту даних використовуйте команду:

```
psql -U username -d database_name -f import.sql
```

## Приклади запитів

Приклади запитів до бази даних доступні у файлі `sample_queries.sql`. 