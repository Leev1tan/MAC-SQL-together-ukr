-- Дані для таблиці замовлень для бази даних "Інтернет-магазин"
-- Кодування: UTF-8

-- ==================================
-- Очищення таблиці перед імпортом
-- ==================================

TRUNCATE TABLE замовлення CASCADE;

-- Скидання лічильника автоінкременту
ALTER SEQUENCE замовлення_ід_seq RESTART WITH 1;

-- ==================================
-- Імпорт даних про замовлення
-- ==================================

INSERT INTO замовлення (
    номер, клієнт_ід, адреса_доставки_ід, загальна_сума, 
    сума_знижки, вартість_доставки, кількість_товарів, 
    статус, примітки, метод_доставки,
    дата_замовлення, дата_підтвердження, бажана_дата_доставки,
    дата_відправлення, дата_доставки
) VALUES
-- Завершені замовлення
('ORD-20230125-001', 1, 1, 33074.99, 
 0.00, 75.00, 1, 
 'отримано', 'Оплата при отриманні', 'нова_пошта',
 '2023-01-25 14:30:15', '2023-01-25 15:12:45', '2023-01-28',
 '2023-01-26 10:15:22', '2023-01-27 12:30:00'),

('ORD-20230203-002', 2, 3, 17074.99, 
 3000.00, 75.00, 2, 
 'отримано', 'Використано промокод WELCOME2023', 'нова_пошта',
 '2023-02-03 09:45:10', '2023-02-03 10:22:30', '2023-02-07',
 '2023-02-04 11:05:35', '2023-02-06 15:40:20'),

('ORD-20230217-003', 3, 4, 25999.99, 
 0.00, 0.00, 1, 
 'отримано', 'Безкоштовна доставка, мобільний телефон клієнта - не працює, зв''язок через емейл', 'безкоштовна_доставка',
 '2023-02-17 18:22:45', '2023-02-17 19:05:12', '2023-02-21',
 '2023-02-18 10:30:40', '2023-02-20 14:15:55'),

('ORD-20230305-004', 4, 6, 112999.97, 
 5000.00, 0.00, 3, 
 'отримано', 'VIP клієнт, безкоштовна доставка, індивідуальні умови', 'безкоштовна_доставка',
 '2023-03-05 11:10:30', '2023-03-05 11:25:15', '2023-03-07',
 '2023-03-05 16:30:45', '2023-03-06 12:45:20'),

-- Активні замовлення
('ORD-20240520-005', 5, 8, 23999.99, 
 0.00, 75.00, 1, 
 'відправлено', 'Стандартна доставка', 'нова_пошта',
 '2024-05-20 15:40:22', '2024-05-20 16:12:30', '2024-05-24',
 '2024-05-21 09:45:15', NULL),

('ORD-20240521-006', 10, 10, 71999.98, 
 2000.00, 0.00, 2, 
 'підтверджено', 'Платиновий клієнт, особливі умови обслуговування', 'безкоштовна_доставка',
 '2024-05-21 10:15:35', '2024-05-21 10:30:45', '2024-05-23',
 NULL, NULL),

('ORD-20240522-007', 11, 12, 24999.99, 
 0.00, 120.00, 1, 
 'оплачено', 'Термінова доставка, оплата карткою онлайн', 'нова_пошта_кур''єр',
 '2024-05-22 09:30:15', '2024-05-22 09:45:20', '2024-05-24',
 NULL, NULL),

-- Нові замовлення
('ORD-20240523-008', 6, 9, 15999.99, 
 0.00, 75.00, 1, 
 'новий', 'Перше замовлення нового клієнта', 'нова_пошта',
 '2024-05-23 14:22:35', NULL, '2024-05-27',
 NULL, NULL),

-- Корпоративні замовлення
('ORD-20240515-009', 12, 14, 299999.94, 
 30000.00, 0.00, 10, 
 'в_обробці', 'Корпоративне замовлення, потрібен рахунок для оплати', 'безкоштовна_доставка',
 '2024-05-15 11:15:45', '2024-05-15 12:30:10', '2024-05-20',
 NULL, NULL),

('ORD-20240510-010', 13, 15, 183999.96, 
 18000.00, 0.00, 6, 
 'комплектується', 'Корпоративне замовлення, безготівковий розрахунок, рахунок оплачено', 'безкоштовна_доставка',
 '2024-05-10 10:10:10', '2024-05-10 10:45:15', '2024-05-16',
 NULL, NULL);

-- ==================================
-- Встановлення правильного значення для послідовності
-- ==================================

-- Оновлення послідовності для уникнення конфліктів при подальшому додаванні
SELECT setval('замовлення_ід_seq', (SELECT MAX(ід) FROM замовлення), true); 